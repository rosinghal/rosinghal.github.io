{"version":3,"sources":["webpack:///./src/app/db.service.ts","webpack:///./src/app/detail/detail.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/detail/detail-routing.module.ts","webpack:///./src/app/detail/detail.module.ts","webpack:///./src/app/list/list.component.ts","webpack:///./src/app/safe-html.pipe.ts","webpack:///./src/environments/environment.ts","webpack:///./src/polyfills.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/detail/detail.component.css","webpack:///./src/app/list/list.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/detail/detail.component.html","webpack:///./src/app/list/list.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import {Injectable, NgZone} from '@angular/core';\ndeclare function require(a)\n\nvar PouchDB = require(\"pouchdb\")\n\n@Injectable()\nexport class DbService {\n\n  db: any; username: any; password: any; remote: any; data: any;\n\n  constructor(public zone: NgZone) {\n    this.db = new PouchDB('secure_note');\n    // this.username = 'DATABASE_KEY';\n    // this.password = 'YOUR_PASSWORD';\n    //\n    // this.remote = 'https://YOU_ACCOUNT_NAME.cloudant.com/YOUR_DATABASE';\n    //\n    // let options = {\n    //   live: true,\n    //   retry: true,\n    //   continuous: true,\n    //   auth: {\n    //     username: this.username,\n    //     password: this.password\n    //   }\n    // };\n    //\n    // this.db.sync(this.remote, options);\n  }\n\n  addNote(subject, body, _rev, _id, project = 'Default') {\n    if(_rev && _id) { //update old doc\n      return this.db.put({subject, body, _rev, _id, project});\n    } else { //create new doc\n      return this.db.post({subject, body, project});\n    }\n  }\n\n  getDoc(_id:string) {\n    return this.db.get(_id, {\n      include_docs: true,\n      attachments: true\n    });\n  }\n\n  deleteDoc(_id:string, _rev:string) {\n    return this.db.remove(_id, _rev);\n  }\n\n  getDocuments(){\n\n    return new Promise(resolve => {\n\n      this.db.allDocs({\n        include_docs: true,\n        attachments: true\n      }).then((result) => {\n\n        this.data = [];\n\n        let docs = result.rows.map((row) => {\n          this.data.push(row.doc);\n          resolve(this.data);\n        });\n\n        if(result.rows.length === 0) {\n          resolve(this.data);\n        }\n\n        this.db.changes({\n          live: true,\n          since: 'now',\n          include_docs: true\n        }).on('change', (change) => {\n          this.handleChange(change);\n        });\n\n      }).catch((error) => {\n\n        console.log(error);\n\n      });\n\n    });\n\n  }\n\n  handleChange(change){\n    this.zone.run(() => {\n      let changedDoc = null;\n      let changedIndex = null;\n      this.data.forEach((doc, index) => {\n        if(doc._id === change.id){\n          changedDoc = doc;\n          changedIndex = index;\n        }\n      });\n\n      //A document was deleted\n      if(change.deleted){\n        this.data.splice(changedIndex, 1);\n      }\n      else {\n        //A document was updated\n        if(changedDoc){\n          this.data[changedIndex] = change.doc;\n        }\n        //A document was added\n        else {\n          this.data.push(change.doc);\n        }\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/db.service.ts","import { Component, OnInit } from '@angular/core';\nimport {DbService} from \"../db.service\";\nimport {Router, ActivatedRoute, Params} from \"@angular/router\";\nimport \"rxjs/add/operator/switchMap\";\nimport {MdSnackBar} from \"@angular/material\";\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/switchMap';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.css']\n})\nexport class DetailComponent implements OnInit {\n\n  form: any;\n  noteId: string;\n  loading: boolean;\n  subject$ = new Subject<string>();\n  body$ = new Subject<string>();\n\n  constructor(\n    private db:DbService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private snackBar: MdSnackBar) {\n    this.form = {\n      subject: null,\n      body: null,\n      _id: null,\n      _rev: null\n    };\n\n    this.body$.debounceTime(400)\n      .distinctUntilChanged()\n      .switchMap(body => this.db.addNote(this.form.subject, body, this.form._rev, this.form._id))\n      .subscribe((note:any) => this.handleResponse(note));\n\n    this.subject$.debounceTime(400)\n      .distinctUntilChanged()\n      .switchMap(subject => this.db.addNote(subject, this.form.body, this.form._rev, this.form._id))\n      .subscribe((note:any) => this.handleResponse(note));\n  }\n\n  handleResponse(note) {\n    if(note) {\n      if(this.form._rev && this.form._id) {\n        this.form._id = note['id'];\n        this.form._rev = note['rev'];\n      } else {\n        // todo - change url without notifying\n        this.router.navigate(['/note', note['id']]);\n      }\n    }\n  }\n\n  deleteNote() {\n    var vm = this;\n    if(vm.form._id && vm.form._rev) {\n      vm.db.deleteDoc(vm.form._id, vm.form._rev)\n        .then(function () {\n          vm.snackBar.open('Note deleted', null, {\n            duration: 2000\n          });\n          vm.router.navigate(['']);\n        });\n    }\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(data => this.noteId = data['id']);\n    if(this.noteId) {\n      this.loading = true;\n      this.route.params\n        // (+) converts string 'id' to a number\n        .switchMap((params: Params) => this.db.getDoc(params['id']))\n        .subscribe((note: any) => {\n          this.loading = false;\n          this.form = note;\n        }, (error: any) => {\n          this.snackBar.open('Note : ' + error.message, 'Ok', {\n            duration: 2000\n          });\n          this.router.navigate(['']);\n        });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/detail/detail.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 480;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 480\n// module chunks = 0","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: []\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n  providers: []\n})\nexport class AppRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  projects:Array<string> = [];\n  selectedProject:string = 'Default';\n\n  onNotify(projects:any):void {\n    this.projects = projects;\n  }\n\n  constructor() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport {MaterialModule} from \"@angular/material\";\nimport 'hammerjs';\n// import { LayoutComponent } from './layout/layout.component';\nimport {DbService} from \"./db.service\";\nimport {CommonModule} from \"@angular/common\";\nimport { SafeHtmlPipe } from './safe-html.pipe';\nimport {AppRoutingModule} from \"./app-routing.module\";\nimport {DetailModule} from \"./detail/detail.module\";\nimport {ListComponent} from \"./list/list.component\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    // LayoutComponent,\n    SafeHtmlPipe,\n    ListComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    MaterialModule.forRoot(),\n    CommonModule,\n    DetailModule,\n    AppRoutingModule\n  ],\n  providers: [\n    DbService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {DetailComponent} from \"./detail.component\";\n\nconst routes: Routes = [\n  { path: '',  component: DetailComponent },\n  { path: 'note/:id', component: DetailComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: []\n})\nexport class DetailRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/detail/detail-routing.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DetailRoutingModule } from './detail-routing.module';\nimport { DetailComponent } from './detail.component';\nimport {FormsModule} from \"@angular/forms\";\nimport {MaterialModule} from \"@angular/material\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DetailRoutingModule,\n    MaterialModule.forRoot()\n  ],\n  declarations: [DetailComponent]\n})\nexport class DetailModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/detail/detail.module.ts","import {Component, OnInit, EventEmitter, Output} from '@angular/core';\nimport {DbService} from \"../db.service\";\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent implements OnInit {\n\n  notes: any;\n  projects: Array<string> = [];\n  @Output() notify: EventEmitter<any> = new EventEmitter();\n\n  constructor(private db:DbService) {\n    this.getNotes();\n  }\n\n  getNotes() {\n    this.db.getDocuments()\n      .then( (notes: any) => this.notes = notes);\n    // this.db.getDocuments()\n    //   .then( (notes: any) => {\n    //     this.notes = notes.filter(note => {\n    //       if(note.project && this.projects.indexOf(note.project) === -1) {\n    //         this.projects.push(note.project);\n    //         // this.notify.emit(this.projects);\n    //       }\n    //       return note.project === 'Default';\n    //     });\n    //     this.notify.emit(this.projects);\n    //   });\n  }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/list/list.component.ts","import {Pipe, PipeTransform, Sanitizer, SecurityContext} from '@angular/core';\n\n@Pipe({\n  name: 'safeHtml'\n})\nexport class SafeHtmlPipe implements PipeTransform {\n\n  constructor(private sanitizer:Sanitizer){}\n\n  transform(style: any): any {\n    return this.sanitizer.sanitize(SecurityContext.HTML, style);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/safe-html.pipe.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","// This file includes polyfills needed by Angular and is loaded before\n// the app. You can add your own extra polyfills to this file.\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.ts","module.exports = \".spacer {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.github-link {\\n  color: white;\\n}\\n\\nmd-sidenav {\\n  width: 180px;\\n}\\n\\n.content {\\n  min-height: calc(100vh - 100px);\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 808\n// module chunks = 0","module.exports = \".example-h2 {\\n  margin: 10px;\\n}\\n\\n.example-section {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-line-pack: center;\\n      align-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  height: 60px;\\n}\\n\\n.example-margin {\\n  margin: 0 10px;\\n}\\n\\n.example-full-width {\\n  width: 100%;\\n}\\n\\nmd-card {\\n  margin: 10px;\\n}\\n\\ntextarea {\\n  resize:vertical;\\n  height: calc(100vh - 220px);\\n}\\n\\n.delete-btn {\\n  position: fixed;\\n  right: 20px;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/detail/detail.component.css\n// module id = 809\n// module chunks = 0","module.exports = \"md-list-item {\\n  text-decoration: none;\\n  color: black;\\n  cursor: pointer;\\n}\\n\\nmd-list-item.active {\\n  background-color: gray;\\n}\\n\\n.add-fab {\\n  position: absolute;\\n  top: auto;\\n  left: auto;\\n  right: 20px;\\n  bottom: 20px;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/list/list.component.css\n// module id = 810\n// module chunks = 0","module.exports = \"<md-toolbar color=\\\"primary\\\">\\n  <md-icon (click)=\\\"sidenav.toggle()\\\">list</md-icon>\\n  <span>Secure Note</span>\\n  <span class=\\\"spacer\\\"></span>\\n  <!--<md-select placeholder=\\\"Select Project\\\" [(ngModel)]=\\\"selectedProject\\\" name=\\\"project\\\">-->\\n    <!--<md-option *ngFor=\\\"let project of projects\\\" [value]=\\\"project\\\">-->\\n      <!--{{project}}-->\\n    <!--</md-option>-->\\n  <!--</md-select>-->\\n  <a href=\\\"https://github.com/rosinghal/secure-note\\\" class=\\\"github-link\\\"><md-icon>cloud_download</md-icon></a>\\n</md-toolbar>\\n\\n<md-sidenav-container>\\n  <md-sidenav #sidenav mode=\\\"side\\\" opened=\\\"true\\\">\\n    <app-list (notify)=\\\"onNotify($event)\\\"></app-list>\\n  </md-sidenav>\\n\\n  <div class=\\\"content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n</md-sidenav-container>\\n\\n<!--<md-toolbar>-->\\n  <!--&copy; Secure Note-->\\n<!--</md-toolbar>-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 811\n// module chunks = 0","module.exports = \"<md-progress-bar mode=\\\"indeterminate\\\" *ngIf=\\\"loading\\\"></md-progress-bar>\\n\\n<!--<form (submit)=\\\"addNote()\\\" #heroForm=\\\"ngForm\\\">-->\\n  <md-card>\\n    <md-card-content>\\n      <button class=\\\"delete-btn\\\" type=\\\"button\\\" md-mini-fab mdTooltip=\\\"Delete?\\\" (click)=\\\"deleteNote()\\\" *ngIf=\\\"form._id && form._rev\\\">\\n        <md-icon>delete</md-icon>\\n      </button>\\n      <md-input-container class=\\\"example-full-width\\\">\\n        <input md-input required (input)=\\\"subject$.next($event.target.value)\\\" [(ngModel)]=\\\"form.subject\\\" name=\\\"subject\\\" placeholder=\\\"Subject\\\">\\n               <!--#subject=\\\"ngModel\\\">-->\\n      </md-input-container>\\n      <md-input-container class=\\\"example-full-width\\\">\\n        <textarea md-input required (input)=\\\"body$.next($event.target.value)\\\" [(ngModel)]=\\\"form.body\\\" name=\\\"body\\\" placeholder=\\\"Body\\\"></textarea>\\n                  <!--#body=\\\"ngModel\\\"></textarea>-->\\n      </md-input-container>\\n    </md-card-content>\\n    <!--<md-card-actions>-->\\n      <!--&lt;!&ndash;<button type=\\\"submit\\\" md-raised-button>Submit</button>&ndash;&gt;-->\\n      <!--<span class=\\\"spacer\\\"></span>-->\\n      <!--<button type=\\\"button\\\" md-raised-button mdTooltip=\\\"Delete this note?\\\" (click)=\\\"deleteNote()\\\" *ngIf=\\\"form._id && form._rev\\\">-->\\n        <!--<md-icon>delete</md-icon>-->\\n      <!--</button>-->\\n    <!--</md-card-actions>-->\\n  </md-card>\\n<!--</form>-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/detail/detail.component.html\n// module id = 812\n// module chunks = 0","module.exports = \"<md-list>\\n  <md-list-item *ngFor=\\\"let note of notes\\\" [routerLink]=\\\"['/note', note._id]\\\" routerLinkActive=\\\"active\\\" [routerLinkActiveOptions]=\\\"{exact: true}\\\">{{note.subject}}</md-list-item>\\n  <md-list-item *ngIf=\\\"!notes?.length\\\">\\n    No notes found.\\n  </md-list-item>\\n</md-list>\\n\\n<button md-mini-fab class=\\\"add-fab\\\" routerLink=\\\"\\\">\\n  <md-icon>add</md-icon>\\n</button>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/list/list.component.html\n// module id = 813\n// module chunks = 0"],"sourceRoot":""}